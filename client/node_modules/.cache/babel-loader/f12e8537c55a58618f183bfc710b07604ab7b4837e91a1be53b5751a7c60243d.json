{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";const API=process.env.REACT_APP_API||\"\".concat(window.location.protocol,\"//\").concat(window.location.hostname,\":5000\");import\"./priceListStyle.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PriceList(){const[prices,setPrices]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{let mounted=true;axios.get(\"\".concat(API,\"/api/prices\")).then(r=>{if(mounted)setPrices(r.data||[]);}).catch(()=>{if(mounted)setPrices([]);}).finally(()=>{if(mounted)setLoading(false);});return()=>{mounted=false;};},[]);return/*#__PURE__*/_jsxs(\"section\",{className:\"pl-root\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"pl-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"pl-title\",children:\"Price List\"}),/*#__PURE__*/_jsx(\"p\",{className:\"pl-sub\",children:\"Transparent pricing for prints, frames and digital media\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pl-grid\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"pl-empty\",children:\"Loading prices\\u2026\"}),!loading&&prices.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"pl-empty\",children:\"No pricing available\"}),!loading&&prices.map((p,i)=>{var _ref,_p$price;return/*#__PURE__*/_jsxs(\"article\",{className:\"pl-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pl-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pl-name\",children:p.name}),p.desc&&/*#__PURE__*/_jsx(\"div\",{className:\"pl-desc\",children:p.desc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pl-price\",children:[\"\\u20B9 \",typeof p.price==='number'?p.price.toLocaleString():(_ref=(_p$price=p.price)!==null&&_p$price!==void 0?_p$price:p.priceRange)!==null&&_ref!==void 0?_ref:'—']})]},p._id||i);})]})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","API","process","env","REACT_APP_API","concat","window","location","protocol","hostname","jsx","_jsx","jsxs","_jsxs","PriceList","prices","setPrices","loading","setLoading","mounted","get","then","r","data","catch","finally","className","children","length","map","p","i","_ref","_p$price","name","desc","price","toLocaleString","priceRange","_id"],"sources":["C:/Users/Aarushi Computers/Downloads/keshvam_keshvam_graphic_ready/client/src/PriceList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nconst API = process.env.REACT_APP_API || `${window.location.protocol}//${window.location.hostname}:5000`;\r\n\r\nimport \"./priceListStyle.css\"; \r\nexport default function PriceList() {\r\n  const [prices, setPrices] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(()=>{\r\n    let mounted = true;\r\n    axios.get(`${API}/api/prices`)\r\n      .then(r => { if (mounted) setPrices(r.data || []); })\r\n      .catch(() => { if (mounted) setPrices([]); })\r\n      .finally(() => { if (mounted) setLoading(false); });\r\n    return () => { mounted = false; };\r\n  },[]);\r\n\r\n  return (\r\n    <section className=\"pl-root\">\r\n      <header className=\"pl-header\">\r\n        <div>\r\n          <h2 className=\"pl-title\">Price List</h2>\r\n          <p className=\"pl-sub\">Transparent pricing for prints, frames and digital media</p>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"pl-grid\">\r\n        {loading && <div className=\"pl-empty\">Loading prices…</div>}\r\n        {!loading && prices.length === 0 && (\r\n          <div className=\"pl-empty\">No pricing available</div>\r\n        )}\r\n\r\n        {!loading && prices.map((p, i) => (\r\n          <article className=\"pl-card\" key={p._id || i}>\r\n            <div className=\"pl-left\">\r\n              <div className=\"pl-name\">{p.name}</div>\r\n              {p.desc && <div className=\"pl-desc\">{p.desc}</div>}\r\n            </div>\r\n            <div className=\"pl-price\">₹ {typeof p.price === 'number' ? p.price.toLocaleString() : (p.price ?? p.priceRange ?? '—')}</div>\r\n          </article>\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}