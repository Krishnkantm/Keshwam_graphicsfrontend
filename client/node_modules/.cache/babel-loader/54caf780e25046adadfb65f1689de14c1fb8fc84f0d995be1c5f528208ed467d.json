{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aarushi Computers\\\\Downloads\\\\keshvam_keshvam_graphic_ready\\\\client\\\\src\\\\AdminLogin.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport \"./adminStyle.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_API || `${window.location.protocol}//${window.location.hostname}:5000`;\nexport default function AdminLogin() {\n  _s();\n  const [pass, setPass] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const nav = useNavigate();\n  const doLogin = async () => {\n    setError('');\n    setLoading(true);\n    try {\n      const res = await axios.post(`${API}/api/admin/login`, {\n        password: pass\n      });\n      if (res.data && res.data.token) {\n        localStorage.setItem('kg_token', res.data.token);\n        nav('/admin/panel');\n      } else {\n        setError('Login failed: no token returned');\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Login error', err);\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message || 'Login failed';\n      setError(msg);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"main-container2\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Admin Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input\",\n        type: \"password\",\n        value: pass,\n        onChange: e => setPass(e.target.value),\n        placeholder: \"Admin password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: doLogin,\n        disabled: loading,\n        children: loading ? 'Logging in…' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'crimson',\n          marginTop: 8\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 1\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 3\n  }, this);\n}\n_s(AdminLogin, \"ngku8afznkP1Fkteh8B1wNlNxhY=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminLogin;\nvar _c;\n$RefreshReg$(_c, \"AdminLogin\");","map":{"version":3,"names":["React","useState","axios","useNavigate","jsxDEV","_jsxDEV","API","process","env","REACT_APP_API","window","location","protocol","hostname","AdminLogin","_s","pass","setPass","loading","setLoading","error","setError","nav","doLogin","res","post","password","data","token","localStorage","setItem","err","_err$response","_err$response$data","console","msg","response","message","class","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","disabled","style","color","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/Aarushi Computers/Downloads/keshvam_keshvam_graphic_ready/client/src/AdminLogin.js"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport \"./adminStyle.css\"\nconst API = process.env.REACT_APP_API || `${window.location.protocol}//${window.location.hostname}:5000`;\n\nexport default function AdminLogin(){\n  const [pass, setPass] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const nav = useNavigate();\n  const doLogin = async ()=>{\n    setError('');\n    setLoading(true);\n    try{\n      const res = await axios.post(`${API}/api/admin/login`, { password: pass });\n      if(res.data && res.data.token){\n        localStorage.setItem('kg_token', res.data.token);\n        nav('/admin/panel');\n      } else {\n        setError('Login failed: no token returned');\n      }\n    }catch(err){\n      console.error('Login error', err);\n      const msg = err.response?.data?.error || err.message || 'Login failed';\n      setError(msg);\n    } finally { setLoading(false); }\n  };\n  return (\n  <div class=\"main-container2\">\n<div className=\"center-card\">\n      <h2>Admin Login</h2>\n      <input className=\"input\" type=\"password\" value={pass} onChange={e=>setPass(e.target.value)} placeholder=\"Admin password\"/>\n      <button className=\"btn\" onClick={doLogin} disabled={loading}>{loading? 'Logging in…':'Login'}</button>\n      {error && <div style={{color:'crimson', marginTop:8}}>{error}</div>}\n      {/* <p className=\"hint\">Default admin password: 1234 (change .env)</p> */}\n    </div></div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}